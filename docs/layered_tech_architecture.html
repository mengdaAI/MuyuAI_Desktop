<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AIÈù¢ËØïÊèêËØç‰∫ßÂìÅ - ÂàÜÂ±ÇÊäÄÊúØÊû∂ÊûÑÂõæ</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            overflow-x: hidden;
            overflow-y: auto;
        }

        .architecture-container {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            padding: 40px 20px 60px;
            max-width: 1600px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            color: white;
        }

        .header h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 10px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .layers-container {
            width: 100%;
            max-width: 1400px;
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-bottom: 40px;
        }

        .layer {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 16px;
            padding: 30px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .layer:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.2);
            background: rgba(255, 255, 255, 0.15);
        }

        .layer::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #ff6b6b, #4ecdc4, #45b7d1, #96ceb4, #feca57);
            border-radius: 16px 16px 0 0;
        }

        .layer-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        .layer-title {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .layer-icon {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: white;
            background: linear-gradient(135deg, #667eea, #764ba2);
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }

        .layer-name {
            color: white;
            font-size: 1.8rem;
            font-weight: 600;
        }

        .layer-level {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 500;
        }

        .layer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .tech-group {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .tech-group h4 {
            color: white;
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .tech-list {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .tech-item {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            padding: 8px 14px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 500;
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .tech-item:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }

        .data-flow {
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 20px 0;
            position: relative;
        }

        .flow-arrow {
            width: 60px;
            height: 4px;
            background: linear-gradient(90deg, #4ecdc4, #45b7d1);
            border-radius: 2px;
            position: relative;
            animation: flowAnimation 2s ease-in-out infinite;
        }

        .flow-arrow::after {
            content: '';
            position: absolute;
            right: -8px;
            top: -6px;
            width: 0;
            height: 0;
            border-left: 8px solid #45b7d1;
            border-top: 7px solid transparent;
            border-bottom: 7px solid transparent;
        }

        @keyframes flowAnimation {
            0%, 100% { opacity: 0.6; }
            50% { opacity: 1; }
        }

        .control-panel {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            z-index: 1000;
            min-width: 200px;
        }

        .control-panel h3 {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 15px;
            text-align: center;
        }

        .control-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px 0;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }

        .control-item:last-child {
            border-bottom: none;
        }

        .legend {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 16px;
            padding: 20px;
            color: white;
            max-width: 350px;
            max-height: 50vh;
            overflow-y: auto;
            z-index: 1000;
        }

        .legend h3 {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 15px;
            text-align: center;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 12px;
            font-size: 0.9rem;
        }

        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 4px;
            flex-shrink: 0;
        }

        .stats-panel {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 16px;
            padding: 30px;
            color: white;
            width: 100%;
            max-width: 1400px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }

        .stat-item {
            text-align: center;
            padding: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .stat-number {
            font-size: 2rem;
            font-weight: 700;
            color: #4ecdc4;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 0.9rem;
            opacity: 0.8;
        }

        @media (max-width: 768px) {
            .architecture-container {
                padding: 20px 15px 40px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .layer-content {
                grid-template-columns: 1fr;
            }
            
            .control-panel, .legend {
                position: relative;
                max-width: 100%;
                margin: 20px 0;
            }
        }

        .breathing-animation {
            animation: breathing 3s ease-in-out infinite;
        }

        .floating-hint {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 10px 15px;
            border-radius: 8px;
            font-size: 0.9rem;
            z-index: 1001;
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
             0%, 100% { opacity: 0.7; }
             50% { opacity: 1; }
         }

         @keyframes breathing {
             0%, 100% { transform: scale(1); }
             50% { transform: scale(1.02); }
         }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        const LayeredArchitecture = () => {
            const [selectedLayer, setSelectedLayer] = useState(null);
            const [animationEnabled, setAnimationEnabled] = useState(true);
            const [controlPanelVisible, setControlPanelVisible] = useState(true);

            const layers = [
                {
                    id: 'presentation',
                    name: 'Ë°®Áé∞Â±Ç (Presentation Layer)',
                    level: 'L1',
                    icon: 'üé®',
                    description: 'Áî®Êà∑ÁïåÈù¢Âíå‰∫§‰∫íÂ±Ç',
                    techGroups: [
                        {
                            name: 'WebÂâçÁ´Ø',
                            icon: 'üåê',
                            technologies: ['Next.js 14', 'React 18', 'TypeScript', 'Tailwind CSS', 'Lucide React']
                        },
                        {
                            name: 'Ê°åÈù¢Â∫îÁî®',
                            icon: 'üíª',
                            technologies: ['Electron', 'HTML/CSS/JS', 'IPCÈÄö‰ø°', 'Native APIs']
                        },
                        {
                            name: 'UIÁªÑ‰ª∂',
                            icon: 'üß©',
                            technologies: ['Headless UI', 'React Hot Toast', 'ÂìçÂ∫îÂºèËÆæËÆ°', 'Êó†ÈöúÁ¢çÊîØÊåÅ']
                        }
                    ]
                },
                {
                    id: 'application',
                    name: 'Â∫îÁî®Â±Ç (Application Layer)',
                    level: 'L2',
                    icon: '‚ö°',
                    description: '‰∏öÂä°ÈÄªËæëÂíåÂ∫îÁî®ÊúçÂä°Â±Ç',
                    techGroups: [
                        {
                            name: '‰∏öÂä°ÊúçÂä°',
                            icon: 'üîß',
                            technologies: ['Áî®Êà∑ËÆ§ËØÅ', 'AIÂØπËØùÁÆ°ÁêÜ', 'ÂÆûÊó∂ÁõëÂê¨', 'ËÆæÁΩÆÁÆ°ÁêÜ', '‰ºöËØùÊéßÂà∂']
                        },
                        {
                            name: 'Áä∂ÊÄÅÁÆ°ÁêÜ',
                            icon: 'üìä',
                            technologies: ['React State', 'Electron Store', 'Model State Service', '‰∫ã‰ª∂Ê°•Êé•']
                        },
                        {
                            name: 'ÈÄö‰ø°ÂçèËÆÆ',
                            icon: 'üì°',
                            technologies: ['Deep Link', 'Protocol Handler', 'IPC Messages', 'Event Emitter']
                        }
                    ]
                },
                {
                    id: 'service',
                    name: 'ÊúçÂä°Â±Ç (Service Layer)',
                    level: 'L3',
                    icon: 'üöÄ',
                    description: 'APIÊúçÂä°Âíå‰∏≠Èó¥‰ª∂Â±Ç',
                    techGroups: [
                        {
                            name: 'Web API',
                            icon: 'üåç',
                            technologies: ['Express.js', 'RESTful API', 'CORS', 'JWTËÆ§ËØÅ', 'Middleware']
                        },
                        {
                            name: 'AIÊúçÂä°',
                            icon: 'ü§ñ',
                            technologies: ['Anthropic Claude', 'Google Gemini', 'Deepgram STT', 'OllamaÊú¨Âú∞Ê®°Âûã']
                        },
                        {
                            name: 'ÂÆûÊó∂ÊúçÂä°',
                            icon: '‚ö°',
                            technologies: ['WebSocket', 'Èü≥È¢ëÂ§ÑÁêÜ', 'Â±èÂπïÊçïËé∑', 'ÂÆûÊó∂ËΩ¨ÂΩï']
                        }
                    ]
                },
                {
                    id: 'integration',
                    name: 'ÈõÜÊàêÂ±Ç (Integration Layer)',
                    level: 'L4',
                    icon: 'üîó',
                    description: 'Â§ñÈÉ®ÊúçÂä°ÈõÜÊàêÂíåÈÄÇÈÖçÂ±Ç',
                    techGroups: [
                        {
                            name: '‰∫ëÊúçÂä°',
                            icon: '‚òÅÔ∏è',
                            technologies: ['Firebase Auth', 'Firebase Admin', 'Google Cloud', 'GitHub API']
                        },
                        {
                            name: 'Á≥ªÁªüÈõÜÊàê',
                            icon: '‚öôÔ∏è',
                            technologies: ['Electron Updater', 'Keytar', 'Node-fetch', 'Axios HTTP']
                        },
                        {
                            name: 'ÂÆâÂÖ®ËÆ§ËØÅ',
                            icon: 'üîê',
                            technologies: ['OAuth 2.0', 'JWT Token', 'KeychainÂ≠òÂÇ®', 'HTTPS/TLS']
                        }
                    ]
                },
                {
                    id: 'data',
                    name: 'Êï∞ÊçÆÂ±Ç (Data Layer)',
                    level: 'L5',
                    icon: 'üíæ',
                    description: 'Êï∞ÊçÆÂ≠òÂÇ®ÂíåÁÆ°ÁêÜÂ±Ç',
                    techGroups: [
                        {
                            name: 'Êú¨Âú∞Â≠òÂÇ®',
                            icon: 'üóÑÔ∏è',
                            technologies: ['SQLite', 'Better-sqlite3', 'Electron Store', 'Êú¨Âú∞ÁºìÂ≠ò']
                        },
                        {
                            name: '‰∫ëÁ´ØÂ≠òÂÇ®',
                            icon: '‚òÅÔ∏è',
                            technologies: ['Firebase Firestore', 'Firebase Storage', 'Áî®Êà∑Êï∞ÊçÆÂêåÊ≠•', 'ÈÖçÁΩÆÂ§á‰ªΩ']
                        },
                        {
                            name: 'Êï∞ÊçÆ‰ªìÂ∫ì',
                            icon: 'üìö',
                            technologies: ['Session Repository', 'Model Repository', 'Auth Repository', 'Settings Repository']
                        }
                    ]
                },
                {
                    id: 'infrastructure',
                    name: 'Âü∫Á°ÄËÆæÊñΩÂ±Ç (Infrastructure Layer)',
                    level: 'L6',
                    icon: 'üèóÔ∏è',
                    description: 'ÈÉ®ÁΩ≤ÂíåËøêÁª¥Âü∫Á°ÄËÆæÊñΩ',
                    techGroups: [
                        {
                            name: 'ÊûÑÂª∫ÈÉ®ÁΩ≤',
                            icon: 'üì¶',
                            technologies: ['Electron Builder', 'GitHub Actions', 'Auto Updater', 'Code Signing']
                        },
                        {
                            name: 'ÂºÄÂèëÂ∑•ÂÖ∑',
                            icon: 'üõ†Ô∏è',
                            technologies: ['ESLint', 'PostCSS', 'Autoprefixer', 'Hot Reload']
                        },
                        {
                            name: 'ËøêË°åÁéØÂ¢É',
                            icon: 'üñ•Ô∏è',
                            technologies: ['Node.js', 'Chromium', 'macOS/Windows/Linux', 'Native Modules']
                        }
                    ]
                }
            ];

            const stats = [
                { number: '6', label: 'Êû∂ÊûÑÂ±ÇÊ¨°' },
                { number: '25+', label: 'Ê†∏ÂøÉÊäÄÊúØ' },
                { number: '3', label: '‰∏ªË¶ÅÂπ≥Âè∞' },
                { number: '5+', label: 'AIÊ®°ÂûãÈõÜÊàê' }
            ];

            const handleKeyPress = (event) => {
                console.log('ÊåâÈîÆ:', event.key); // Ë∞ÉËØï‰ø°ÊÅØ
                switch(event.key.toLowerCase()) {
                    case 'a':
                        setAnimationEnabled(!animationEnabled);
                        console.log('ÂàáÊç¢Âä®Áîª:', !animationEnabled);
                        break;
                    case 'r':
                        setSelectedLayer(null);
                        console.log('ÈáçÁΩÆÈÄâÊã©');
                        break;
                    case 'h':
                        setControlPanelVisible(!controlPanelVisible);
                        console.log('ÂàáÊç¢ÊéßÂà∂Èù¢Êùø:', !controlPanelVisible);
                        break;
                    case ' ':
                        event.preventDefault();
                        // ÊªöÂä®Âà∞È°∂ÈÉ®
                        window.scrollTo({ top: 0, behavior: 'smooth' });
                        console.log('ÈÄÇÂ∫îËßÜÂõæ');
                        break;
                    case 'escape':
                        setSelectedLayer(null);
                        break;
                }
            };

            useEffect(() => {
                document.addEventListener('keydown', handleKeyPress);
                return () => document.removeEventListener('keydown', handleKeyPress);
            }, [animationEnabled, controlPanelVisible]);

            return (
                <div className="architecture-container">
                    <div className="header">
                        <h1>AIÈù¢ËØïÊèêËØç‰∫ßÂìÅ - ÂàÜÂ±ÇÊäÄÊúØÊû∂ÊûÑ</h1>
                        <p>‰ªéË°®Áé∞Â±ÇÂà∞Âü∫Á°ÄËÆæÊñΩÁöÑÂÆåÊï¥ÊäÄÊúØÊ†àÂèØËßÜÂåñ</p>
                    </div>

                    <div className="layers-container">
                        {layers.map((layer, index) => (
                            <React.Fragment key={layer.id}>
                                <div 
                                    className={`layer ${animationEnabled ? 'breathing-animation' : ''} ${selectedLayer === layer.id ? 'selected' : ''}`}
                                    onClick={() => setSelectedLayer(selectedLayer === layer.id ? null : layer.id)}
                                    style={{ animationDelay: `${index * 0.2}s` }}
                                >
                                    <div className="layer-header">
                                        <div className="layer-title">
                                            <div className="layer-icon">{layer.icon}</div>
                                            <div>
                                                <div className="layer-name">{layer.name}</div>
                                                <div style={{ color: 'rgba(255,255,255,0.7)', fontSize: '0.9rem', marginTop: '5px' }}>
                                                    {layer.description}
                                                </div>
                                            </div>
                                        </div>
                                        <div className="layer-level">{layer.level}</div>
                                    </div>
                                    
                                    <div className="layer-content">
                                        {layer.techGroups.map((group, groupIndex) => (
                                            <div key={groupIndex} className="tech-group">
                                                <h4>
                                                    <span>{group.icon}</span>
                                                    {group.name}
                                                </h4>
                                                <div className="tech-list">
                                                    {group.technologies.map((tech, techIndex) => (
                                                        <div key={techIndex} className="tech-item">
                                                            {tech}
                                                        </div>
                                                    ))}
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                </div>
                                
                                {index < layers.length - 1 && (
                                    <div className="data-flow">
                                        <div className="flow-arrow"></div>
                                    </div>
                                )}
                            </React.Fragment>
                        ))}
                    </div>

                    <div className="stats-panel">
                        <h3 style={{ textAlign: 'center', marginBottom: '20px', fontSize: '1.5rem' }}>Êû∂ÊûÑÁªüËÆ°</h3>
                        <div className="stats-grid">
                            {stats.map((stat, index) => (
                                <div key={index} className="stat-item">
                                    <div className="stat-number">{stat.number}</div>
                                    <div className="stat-label">{stat.label}</div>
                                </div>
                            ))}
                        </div>
                    </div>

                    {!controlPanelVisible && (
                        <div className="floating-hint">
                            Êåâ H ÊòæÁ§∫ÊéßÂà∂Èù¢Êùø
                        </div>
                    )}

                    {controlPanelVisible && (
                        <div className="control-panel">
                            <h3>üéõÔ∏è ÊéßÂà∂Èù¢Êùø</h3>
                            <div className="control-item">
                                <span>Âä®ÁîªÊïàÊûú: {animationEnabled ? '‚úÖ' : '‚ùå'}</span>
                            </div>
                            <div className="control-item">
                                <span>ÊéßÂà∂Èù¢Êùø: {controlPanelVisible ? 'üëÄ' : 'üôà'}</span>
                            </div>
                            <div className="control-item">
                                <span>A - ÂàáÊç¢Âä®Áîª</span>
                            </div>
                            <div className="control-item">
                                <span>R - ÈáçÁΩÆÈÄâÊã©</span>
                            </div>
                            <div className="control-item">
                                <span>H - ÈöêËóèÈù¢Êùø</span>
                            </div>
                            <div className="control-item">
                                <span>Á©∫Ê†º - ÂõûÂà∞È°∂ÈÉ®</span>
                            </div>
                            <div className="control-item">
                                <span>ESC - ÂèñÊ∂àÈÄâÊã©</span>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<LayeredArchitecture />);
    </script>
</body>
</html>