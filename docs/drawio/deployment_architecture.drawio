<mxfile host="app.diagrams.net" modified="2024-01-01T00:00:00.000Z" agent="5.0" etag="xxx" version="22.1.16" type="device">
  <diagram name="部署架构图" id="deployment-architecture">
    <mxGraphModel dx="1422" dy="794" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        
        <!-- 标题 -->
        <mxCell id="title" value="部署架构图" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=24;fontStyle=1;fontColor=#2c3e50;" vertex="1" parent="1">
          <mxGeometry x="450" y="30" width="200" height="40" as="geometry" />
        </mxCell>
        
        <!-- CDN层 -->
        <mxCell id="cdn-layer" value="CDN层" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#e3f2fd;strokeColor=#1976d2;" vertex="1" parent="1">
          <mxGeometry x="80" y="100" width="960" height="80" as="geometry" />
        </mxCell>
        
        <mxCell id="cdn-components" value="CloudFlare CDN     |     静态资源缓存     |     全球节点分发     |     DDoS防护     |     SSL终端" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="cdn-layer">
          <mxGeometry y="26" width="960" height="54" as="geometry" />
        </mxCell>
        
        <!-- 负载均衡层 -->
        <mxCell id="lb-layer" value="负载均衡层" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#f3e5f5;strokeColor=#7b1fa2;" vertex="1" parent="1">
          <mxGeometry x="80" y="220" width="960" height="100" as="geometry" />
        </mxCell>
        
        <!-- 主负载均衡器 -->
        <mxCell id="main-lb" value="主负载均衡器&#xa;(Nginx)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1f5fe;strokeColor=#0277bd;" vertex="1" parent="lb-layer">
          <mxGeometry x="200" y="40" width="120" height="50" as="geometry" />
        </mxCell>
        
        <!-- 备用负载均衡器 -->
        <mxCell id="backup-lb" value="备用负载均衡器&#xa;(Nginx)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f3e5f5;strokeColor=#7b1fa2;" vertex="1" parent="lb-layer">
          <mxGeometry x="360" y="40" width="120" height="50" as="geometry" />
        </mxCell>
        
        <!-- API网关 -->
        <mxCell id="api-gateway" value="API网关&#xa;(Kong)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff3e0;strokeColor=#f57c00;" vertex="1" parent="lb-layer">
          <mxGeometry x="520" y="40" width="120" height="50" as="geometry" />
        </mxCell>
        
        <!-- Web服务器集群 -->
        <mxCell id="web-cluster" value="Web服务器集群" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#fff3e0;strokeColor=#f57c00;" vertex="1" parent="1">
          <mxGeometry x="80" y="360" width="480" height="200" as="geometry" />
        </mxCell>
        
        <!-- Web服务器1 -->
        <mxCell id="web-server-1" value="Web服务器1&#xa;(Node.js)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1f5fe;strokeColor=#0277bd;" vertex="1" parent="web-cluster">
          <mxGeometry x="40" y="40" width="100" height="60" as="geometry" />
        </mxCell>
        
        <!-- Web服务器2 -->
        <mxCell id="web-server-2" value="Web服务器2&#xa;(Node.js)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1f5fe;strokeColor=#0277bd;" vertex="1" parent="web-cluster">
          <mxGeometry x="180" y="40" width="100" height="60" as="geometry" />
        </mxCell>
        
        <!-- Web服务器3 -->
        <mxCell id="web-server-3" value="Web服务器3&#xa;(Node.js)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1f5fe;strokeColor=#0277bd;" vertex="1" parent="web-cluster">
          <mxGeometry x="320" y="40" width="100" height="60" as="geometry" />
        </mxCell>
        
        <!-- 容器编排 -->
        <mxCell id="container-info" value="• Docker容器化部署&#xa;• Kubernetes集群管理&#xa;• 自动扩缩容&#xa;• 健康检查&#xa;• 滚动更新" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=10;" vertex="1" parent="web-cluster">
          <mxGeometry y="110" width="480" height="80" as="geometry" />
        </mxCell>
        
        <!-- 应用服务器集群 -->
        <mxCell id="app-cluster" value="应用服务器集群" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#e8f5e8;strokeColor=#2e7d32;" vertex="1" parent="1">
          <mxGeometry x="600" y="360" width="440" height="200" as="geometry" />
        </mxCell>
        
        <!-- 用户服务 -->
        <mxCell id="user-service-deploy" value="用户服务" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1f5fe;strokeColor=#0277bd;" vertex="1" parent="app-cluster">
          <mxGeometry x="20" y="40" width="80" height="50" as="geometry" />
        </mxCell>
        
        <!-- 面试服务 -->
        <mxCell id="interview-service-deploy" value="面试服务" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f3e5f5;strokeColor=#7b1fa2;" vertex="1" parent="app-cluster">
          <mxGeometry x="120" y="40" width="80" height="50" as="geometry" />
        </mxCell>
        
        <!-- AI服务 -->
        <mxCell id="ai-service-deploy" value="AI服务" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff3e0;strokeColor=#f57c00;" vertex="1" parent="app-cluster">
          <mxGeometry x="220" y="40" width="80" height="50" as="geometry" />
        </mxCell>
        
        <!-- 支付服务 -->
        <mxCell id="payment-service-deploy" value="支付服务" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffebee;strokeColor=#c62828;" vertex="1" parent="app-cluster">
          <mxGeometry x="320" y="40" width="80" height="50" as="geometry" />
        </mxCell>
        
        <!-- 微服务架构 -->
        <mxCell id="microservice-info" value="• 微服务架构&#xa;• 服务发现(Consul)&#xa;• 配置中心(Nacos)&#xa;• 链路追踪(Jaeger)&#xa;• 服务网格(Istio)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=10;" vertex="1" parent="app-cluster">
          <mxGeometry y="110" width="440" height="80" as="geometry" />
        </mxCell>
        
        <!-- 数据层 -->
        <mxCell id="data-layer" value="数据层" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#e0f2f1;strokeColor=#00695c;" vertex="1" parent="1">
          <mxGeometry x="80" y="600" width="960" height="140" as="geometry" />
        </mxCell>
        
        <!-- 主数据库 -->
        <mxCell id="primary-db" value="主数据库&#xa;PostgreSQL" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1f5fe;strokeColor=#0277bd;" vertex="1" parent="data-layer">
          <mxGeometry x="80" y="40" width="100" height="60" as="geometry" />
        </mxCell>
        
        <!-- 从数据库 -->
        <mxCell id="replica-db" value="从数据库&#xa;PostgreSQL" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f3e5f5;strokeColor=#7b1fa2;" vertex="1" parent="data-layer">
          <mxGeometry x="200" y="40" width="100" height="60" as="geometry" />
        </mxCell>
        
        <!-- Redis集群 -->
        <mxCell id="redis-cluster" value="Redis集群&#xa;缓存/会话" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffebee;strokeColor=#c62828;" vertex="1" parent="data-layer">
          <mxGeometry x="320" y="40" width="100" height="60" as="geometry" />
        </mxCell>
        
        <!-- 文件存储 -->
        <mxCell id="file-storage-deploy" value="文件存储&#xa;MinIO集群" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff3e0;strokeColor=#f57c00;" vertex="1" parent="data-layer">
          <mxGeometry x="440" y="40" width="100" height="60" as="geometry" />
        </mxCell>
        
        <!-- 搜索引擎 -->
        <mxCell id="elasticsearch-deploy" value="搜索引擎&#xa;Elasticsearch" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e8f5e8;strokeColor=#2e7d32;" vertex="1" parent="data-layer">
          <mxGeometry x="560" y="40" width="100" height="60" as="geometry" />
        </mxCell>
        
        <!-- 消息队列 -->
        <mxCell id="mq-deploy" value="消息队列&#xa;RabbitMQ" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fce4ec;strokeColor=#ad1457;" vertex="1" parent="data-layer">
          <mxGeometry x="680" y="40" width="100" height="60" as="geometry" />
        </mxCell>
        
        <!-- 监控系统 -->
        <mxCell id="monitoring-deploy" value="监控系统&#xa;Prometheus" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff8e1;strokeColor=#ff8f00;" vertex="1" parent="data-layer">
          <mxGeometry x="800" y="40" width="100" height="60" as="geometry" />
        </mxCell>
        
        <!-- 数据备份 -->
        <mxCell id="backup-info" value="• 主从复制&#xa;• 定时备份&#xa;• 异地容灾&#xa;• 数据同步" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=10;" vertex="1" parent="data-layer">
          <mxGeometry y="110" width="960" height="30" as="geometry" />
        </mxCell>
        
        <!-- 监控运维层 -->
        <mxCell id="ops-layer" value="监控运维层" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#f1f8e9;strokeColor=#33691e;" vertex="1" parent="1">
          <mxGeometry x="80" y="780" width="960" height="100" as="geometry" />
        </mxCell>
        
        <mxCell id="ops-components" value="Grafana仪表板     |     ELK日志系统     |     Prometheus监控     |     Alertmanager告警     |     Jenkins CI/CD     |     GitLab代码仓库" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="ops-layer">
          <mxGeometry y="26" width="960" height="74" as="geometry" />
        </mxCell>
        
        <!-- 连接线 -->
        
        <!-- CDN到负载均衡 -->
        <mxCell id="cdn-to-lb" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#1976d2;strokeWidth=3;" edge="1" parent="1" source="cdn-layer" target="lb-layer">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="300" as="sourcePoint" />
            <mxPoint x="450" y="250" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="cdn-lb-label" value="HTTPS" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontColor=#1976d2;" vertex="1" parent="1">
          <mxGeometry x="530" y="190" width="60" height="20" as="geometry" />
        </mxCell>
        
        <!-- 负载均衡到Web集群 -->
        <mxCell id="lb-to-web" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.25;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#7b1fa2;strokeWidth=3;" edge="1" parent="1" source="lb-layer" target="web-cluster">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="400" as="sourcePoint" />
            <mxPoint x="450" y="350" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="lb-web-label" value="HTTP" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontColor=#7b1fa2;" vertex="1" parent="1">
          <mxGeometry x="290" y="330" width="60" height="20" as="geometry" />
        </mxCell>
        
        <!-- 负载均衡到应用集群 -->
        <mxCell id="lb-to-app" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.75;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#f57c00;strokeWidth=3;" edge="1" parent="1" source="lb-layer" target="app-cluster">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="400" as="sourcePoint" />
            <mxPoint x="450" y="350" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="lb-app-label" value="gRPC" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontColor=#f57c00;" vertex="1" parent="1">
          <mxGeometry x="790" y="330" width="60" height="20" as="geometry" />
        </mxCell>
        
        <!-- Web集群到数据层 -->
        <mxCell id="web-to-data" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.25;entryY=0;entryDx=0;entryDy=0;strokeColor=#2e7d32;strokeWidth=2;" edge="1" parent="1" source="web-cluster" target="data-layer">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="600" as="sourcePoint" />
            <mxPoint x="450" y="550" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- 应用集群到数据层 -->
        <mxCell id="app-to-data-deploy" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.75;entryY=0;entryDx=0;entryDy=0;strokeColor=#2e7d32;strokeWidth=2;" edge="1" parent="1" source="app-cluster" target="data-layer">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="600" as="sourcePoint" />
            <mxPoint x="450" y="550" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- 数据层到监控 -->
        <mxCell id="data-to-ops" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#00695c;strokeWidth=2;" edge="1" parent="1" source="data-layer" target="ops-layer">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="750" as="sourcePoint" />
            <mxPoint x="450" y="700" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="data-ops-label" value="日志/指标" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontColor=#00695c;" vertex="1" parent="1">
          <mxGeometry x="520" y="750" width="80" height="20" as="geometry" />
        </mxCell>
        
        <!-- 部署环境说明 -->
        <mxCell id="env-info" value="部署环境:&#xa;• 生产环境 (3节点)&#xa;• 预发布环境 (2节点)&#xa;• 测试环境 (1节点)&#xa;• 开发环境 (本地)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff8e1;strokeColor=#ff8f00;align=left;" vertex="1" parent="1">
          <mxGeometry x="1080" y="100" width="160" height="80" as="geometry" />
        </mxCell>
        
        <!-- 容器化部署 -->
        <mxCell id="container-deploy" value="容器化部署:&#xa;• Docker镜像&#xa;• Kubernetes编排&#xa;• Helm包管理&#xa;• 自动扩缩容&#xa;• 蓝绿部署" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f3e5f5;strokeColor=#7b1fa2;align=left;" vertex="1" parent="1">
          <mxGeometry x="1080" y="200" width="160" height="100" as="geometry" />
        </mxCell>
        
        <!-- CI/CD流程 -->
        <mxCell id="cicd-process" value="CI/CD流程:&#xa;• Git提交触发&#xa;• 自动化测试&#xa;• 镜像构建&#xa;• 安全扫描&#xa;• 自动部署" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffebee;strokeColor=#c62828;align=left;" vertex="1" parent="1">
          <mxGeometry x="1080" y="320" width="160" height="100" as="geometry" />
        </mxCell>
        
        <!-- 高可用保障 -->
        <mxCell id="ha-guarantee" value="高可用保障:&#xa;• 多活架构&#xa;• 故障转移&#xa;• 健康检查&#xa;• 自动恢复&#xa;• 灾备切换" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e8f5e8;strokeColor=#2e7d32;align=left;" vertex="1" parent="1">
          <mxGeometry x="1080" y="440" width="160" height="100" as="geometry" />
        </mxCell>
        
        <!-- 性能优化 -->
        <mxCell id="performance-opt" value="性能优化:&#xa;• 资源限制&#xa;• 缓存策略&#xa;• 连接池&#xa;• 负载均衡&#xa;• 性能监控" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e0f2f1;strokeColor=#00695c;align=left;" vertex="1" parent="1">
          <mxGeometry x="1080" y="560" width="160" height="100" as="geometry" />
        </mxCell>
        
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>